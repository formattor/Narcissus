# 浏览器渲染原理

网络：获取HTML等资源，产生渲染任务，传递给渲染主线程的消息队列。

渲染：HTML解析、样式计算、布局、分层、绘制、分块、光栅化、画。

::: tip 渲染过程

1. HTML Parse

html -> DOM & CSSOM

预解析线程会预先下载外部的css资源

预解析线程下载外部的js资源会阻塞主线程，因为js会改变DOM结构。

2. 样式计算

计算每个DOM节点的样式

3. 布局

确定每个节点的尺寸和位置

4. 分层

提高渲染效率

5. 绘制

生成绘制指令

渲染主线程工作结束，其他线程工作。

6. 分块

将每一层都划分成小区域，提高渲染效率。

7. 光栅化

GPU将每一块变成位图

8. 画

将位图信息给GPU进程再给显卡进行绘制

:::


# 问题

## reflow

修改了DOM或CSSOM的结构 2

## repaint

没有改变位置属性 5

## transform

在最后一步执行 8